{"ast":null,"code":"import _slicedToArray from\"/Users/matvejcernaev/Desktop/proj/diplom/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{BrowserRouter}from\"react-router-dom\";import AppRouter from\"./components/AppRouter\";import NavBar from\"./components/NavBar\";import{observer}from\"mobx-react-lite\";import{Context}from\"./index\";import{check}from\"./http/userAPI\";import{Spinner}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=observer(function(){var _useContext=useContext(Context),user=_useContext.user;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];useEffect(function(){check().then(function(data){user.setUser(true);user.setIsAuth(true);}).finally(function(){return setLoading(false);});},[]);if(loading){return/*#__PURE__*/_jsx(Spinner,{animation:\"grow\"});}return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(AppRouter,{})]});});export default App;","map":{"version":3,"names":["React","useContext","useEffect","useState","BrowserRouter","AppRouter","NavBar","observer","Context","check","Spinner","jsx","_jsx","jsxs","_jsxs","App","_useContext","user","_useState","_useState2","_slicedToArray","loading","setLoading","then","data","setUser","setIsAuth","finally","animation","children"],"sources":["/Users/matvejcernaev/Desktop/proj/diplom/client/src/App.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport {BrowserRouter} from \"react-router-dom\";\nimport AppRouter from \"./components/AppRouter\";\nimport NavBar from \"./components/NavBar\";\nimport {observer} from \"mobx-react-lite\";\nimport {Context} from \"./index\";\nimport {check} from \"./http/userAPI\";\nimport {Spinner} from \"react-bootstrap\";\n\nconst App = observer(() => {\n    const {user} = useContext(Context)\n    const [loading, setLoading] = useState(true)\n\n    useEffect(() => {\n        check().then(data => {\n            user.setUser(true)\n            user.setIsAuth(true)\n        }).finally(() => setLoading(false))\n    }, [])\n\n    if (loading) {\n        return <Spinner animation={\"grow\"}/>\n    }\n\n    return (\n        <BrowserRouter>\n            <NavBar />\n            <AppRouter />\n        </BrowserRouter>\n    );\n});\n\nexport default App;\n"],"mappings":"qIAAA,MAAO,CAAAA,KAAK,EAAGC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAC5D,OAAQC,aAAa,KAAO,kBAAkB,CAC9C,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,OAAQC,QAAQ,KAAO,iBAAiB,CACxC,OAAQC,OAAO,KAAO,SAAS,CAC/B,OAAQC,KAAK,KAAO,gBAAgB,CACpC,OAAQC,OAAO,KAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,GAAM,CAAAC,GAAG,CAAGR,QAAQ,CAAC,UAAM,CACvB,IAAAS,WAAA,CAAef,UAAU,CAACO,OAAO,CAAC,CAA3BS,IAAI,CAAAD,WAAA,CAAJC,IAAI,CACX,IAAAC,SAAA,CAA8Bf,QAAQ,CAAC,IAAI,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1BjB,SAAS,CAAC,UAAM,CACZO,KAAK,CAAC,CAAC,CAACc,IAAI,CAAC,SAAAC,IAAI,CAAI,CACjBP,IAAI,CAACQ,OAAO,CAAC,IAAI,CAAC,CAClBR,IAAI,CAACS,SAAS,CAAC,IAAI,CAAC,CACxB,CAAC,CAAC,CAACC,OAAO,CAAC,iBAAM,CAAAL,UAAU,CAAC,KAAK,CAAC,GAAC,CACvC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,OAAO,CAAE,CACT,mBAAOT,IAAA,CAACF,OAAO,EAACkB,SAAS,CAAE,MAAO,CAAC,CAAC,CACxC,CAEA,mBACId,KAAA,CAACV,aAAa,EAAAyB,QAAA,eACVjB,IAAA,CAACN,MAAM,GAAE,CAAC,cACVM,IAAA,CAACP,SAAS,GAAE,CAAC,EACF,CAAC,CAExB,CAAC,CAAC,CAEF,cAAe,CAAAU,GAAG"},"metadata":{},"sourceType":"module"}
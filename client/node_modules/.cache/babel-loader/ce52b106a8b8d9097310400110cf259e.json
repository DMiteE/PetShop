{"ast":null,"code":"import _slicedToArray from\"/Users/matvejcernaev/Desktop/proj/diplom/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Button,Card,Col,Container,Image,Row}from\"react-bootstrap\";import bigStar from'../assets/bigStar.png';import{useParams}from'react-router-dom';import{addToBasket,fetchOneDevice}from\"../http/deviceAPI\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DevicePage=function DevicePage(){var _useState=useState({info:[]}),_useState2=_slicedToArray(_useState,2),device=_useState2[0],setDevice=_useState2[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){fetchOneDevice(id).then(function(data){return setDevice(data);});},[]);// ------- Создаём функцию для записи ------- //\nvar add=function add(){var formData=new FormData();formData.append('deviceId',id);addToBasket(formData).then(function(response){return alert(\"\\u0422\\u043E\\u0432\\u0430\\u0440 \"+device.name+\" \\u0431\\u044B\\u043B \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D \\u0432 \\u0432\\u0430\\u0448\\u0443 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443!\");});};return/*#__PURE__*/_jsxs(Container,{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{className:\"d-flex flex-column align-items-center justify-content-around\",style:{width:300,height:300,fontSize:32,border:'white'},children:/*#__PURE__*/_jsx(\"h1\",{children:device.name})})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Image,{width:300,height:300,src:process.env.REACT_APP_API_URL+device.img})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Card,{className:\"d-flex flex-column align-items-center justify-content-around\",style:{width:300,height:300,fontSize:32,border:'5px solid lightgray'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u041E\\u0442: \",device.price,\" \\u0440\\u0443\\u0431.\"]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-dark\",onClick:add,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{className:\"d-flex flex-column m-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0425\\u0430\\u0440\\u0430\\u043A\\u0442\\u0435\\u0440\\u0438\\u0441\\u0442\\u0438\\u043A\\u0438\"}),device.info.map(function(info,index){return/*#__PURE__*/_jsxs(Row,{style:{border:'2px solid lightgray',background:index%2===0?'lightgray':'transparent',padding:10},children:[info.title,\": \",info.description]},info.id);})]})]});};export default DevicePage;","map":{"version":3,"names":["React","useEffect","useState","Button","Card","Col","Container","Image","Row","bigStar","useParams","addToBasket","fetchOneDevice","jsx","_jsx","jsxs","_jsxs","DevicePage","_useState","info","_useState2","_slicedToArray","device","setDevice","_useParams","id","then","data","add","formData","FormData","append","response","alert","name","className","children","md","style","width","height","fontSize","border","src","process","env","REACT_APP_API_URL","img","price","variant","onClick","map","index","background","padding","title","description"],"sources":["/Users/matvejcernaev/Desktop/proj/diplom/client/src/pages/DevicePage.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Button, Card, Col, Container, Image, Row} from \"react-bootstrap\";\nimport bigStar from '../assets/bigStar.png';\nimport {useParams} from 'react-router-dom';\nimport {addToBasket, fetchOneDevice} from \"../http/deviceAPI\";\n\nconst DevicePage = () => {\n    const [device, setDevice] = useState({info: []})\n    const {id} = useParams()\n    useEffect(() => {\n        fetchOneDevice(id).then(data => setDevice(data))\n    }, [])\n\n\n\n    // ------- Создаём функцию для записи ------- //\n    const add = () => {\n        const formData = new FormData()\n        formData.append('deviceId', id)\n        addToBasket(formData).then(response => alert(`Товар ` + device.name + ` был добавлен в вашу корзину!`))\n    }\n\n\n    return (\n        <Container className=\"mt-3\">\n            <Row>\n                <Col md={4}>\n                    <Card\n                        className=\"d-flex flex-column align-items-center justify-content-around\"\n                        style={{width: 300, height: 300, fontSize: 32, border: 'white'}}\n                    >\n                        <h1>{device.name}</h1>\n\n                    </Card>\n                </Col>\n                <Col md={4}>\n                    <Image width={300} height={300} src={process.env.REACT_APP_API_URL + device.img}/>\n                </Col>\n                <Col md={4}>\n                    <Card\n                        className=\"d-flex flex-column align-items-center justify-content-around\"\n                        style={{width: 300, height: 300, fontSize: 32, border: '5px solid lightgray'}}\n                    >\n                        <h3>От: {device.price} руб.</h3>\n\n                        {/* Запускаем функцию */}\n                        <Button variant={\"outline-dark\"} onClick={add} >Добавить в корзину</Button>\n\n                    </Card>\n                </Col>\n            </Row><br/>\n            <Row className=\"d-flex flex-column m-3\">\n                <h2>Характеристики</h2>\n                {device.info.map((info, index) =>\n                    <Row key={info.id} style={{border: '2px solid lightgray', background: index % 2 === 0 ? 'lightgray' : 'transparent', padding: 10}}>\n                        {info.title}: {info.description}\n                    </Row>\n                )}\n            </Row>\n        </Container>\n    );\n};\nexport default DevicePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
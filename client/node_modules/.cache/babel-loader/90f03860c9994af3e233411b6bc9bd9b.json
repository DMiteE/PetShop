{"ast":null,"code":"import React,{useContext,useEffect}from'react';import{Container}from\"react-bootstrap\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import TypeBar from\"../components/TypeBar\";import BrandBar from\"../components/BrandBar\";import DeviceList from\"../components/DeviceList\";import{observer}from\"mobx-react-lite\";import{Context}from\"../index\";import{fetchBrands,fetchDevices,fetchTypes}from\"../http/deviceAPI\";import Pages from\"../components/Pages\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shop=observer(function(){var _useContext=useContext(Context),device=_useContext.device;useEffect(function(){fetchTypes().then(function(data){return device.setTypes(data);});fetchBrands().then(function(data){return device.setBrands(data);});fetchDevices(null,null,1,2).then(function(data){device.setDevices(data.rows);device.setTotalCount(data.count);});},[]);useEffect(function(){fetchDevices(device.selectedType.id,device.selectedBrand.id,device.page,2).then(function(data){device.setDevices(data.rows);device.setTotalCount(data.count);});},[device.page,device.selectedType,device.selectedBrand]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{className:\"mt-2\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(TypeBar,{})}),/*#__PURE__*/_jsxs(Col,{md:9,children:[/*#__PURE__*/_jsx(BrandBar,{}),/*#__PURE__*/_jsx(DeviceList,{}),/*#__PURE__*/_jsx(Pages,{})]})]})});});export default Shop;","map":{"version":3,"names":["React","useContext","useEffect","Container","Row","Col","TypeBar","BrandBar","DeviceList","observer","Context","fetchBrands","fetchDevices","fetchTypes","Pages","jsx","_jsx","jsxs","_jsxs","Shop","_useContext","device","then","data","setTypes","setBrands","setDevices","rows","setTotalCount","count","selectedType","id","selectedBrand","page","children","className","md"],"sources":["/Users/matvejcernaev/Desktop/proj/diplom/client/src/pages/Shop.js"],"sourcesContent":["import React, {useContext, useEffect} from 'react';\nimport {Container} from \"react-bootstrap\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport TypeBar from \"../components/TypeBar\";\nimport BrandBar from \"../components/BrandBar\";\nimport DeviceList from \"../components/DeviceList\";\nimport {observer} from \"mobx-react-lite\";\nimport {Context} from \"../index\";\nimport {fetchBrands, fetchDevices, fetchTypes} from \"../http/deviceAPI\";\nimport Pages from \"../components/Pages\";\n\nconst Shop = observer(() => {\n    const {device} = useContext(Context)\n\n    useEffect(() => {\n        fetchTypes().then(data => device.setTypes(data))\n        fetchBrands().then(data => device.setBrands(data))\n        fetchDevices(null, null, 1, 2).then(data => {\n            device.setDevices(data.rows)\n            device.setTotalCount(data.count)\n        })\n    }, [])\n\n    useEffect(() => {\n        fetchDevices(device.selectedType.id, device.selectedBrand.id, device.page, 2).then(data => {\n            device.setDevices(data.rows)\n            device.setTotalCount(data.count)\n        })\n    }, [device.page, device.selectedType, device.selectedBrand,])\n\n    return (\n        <Container>\n            <Row className=\"mt-2\">\n                <Col md={3}>\n                    <TypeBar/>\n                </Col>\n                <Col md={9}>\n                    <BrandBar/>\n                    <DeviceList/>\n                    <Pages/>\n                </Col>\n            </Row>\n        </Container>\n    );\n});\n\nexport default Shop;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,UAAU,CAAEC,SAAS,KAAO,OAAO,CAClD,OAAQC,SAAS,KAAO,iBAAiB,CACzC,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,OAAQC,QAAQ,KAAO,iBAAiB,CACxC,OAAQC,OAAO,KAAO,UAAU,CAChC,OAAQC,WAAW,CAAEC,YAAY,CAAEC,UAAU,KAAO,mBAAmB,CACvE,MAAO,CAAAC,KAAK,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,GAAM,CAAAC,IAAI,CAAGV,QAAQ,CAAC,UAAM,CACxB,IAAAW,WAAA,CAAiBnB,UAAU,CAACS,OAAO,CAAC,CAA7BW,MAAM,CAAAD,WAAA,CAANC,MAAM,CAEbnB,SAAS,CAAC,UAAM,CACZW,UAAU,CAAC,CAAC,CAACS,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAF,MAAM,CAACG,QAAQ,CAACD,IAAI,CAAC,GAAC,CAChDZ,WAAW,CAAC,CAAC,CAACW,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAF,MAAM,CAACI,SAAS,CAACF,IAAI,CAAC,GAAC,CAClDX,YAAY,CAAC,IAAI,CAAE,IAAI,CAAE,CAAC,CAAE,CAAC,CAAC,CAACU,IAAI,CAAC,SAAAC,IAAI,CAAI,CACxCF,MAAM,CAACK,UAAU,CAACH,IAAI,CAACI,IAAI,CAAC,CAC5BN,MAAM,CAACO,aAAa,CAACL,IAAI,CAACM,KAAK,CAAC,CACpC,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN3B,SAAS,CAAC,UAAM,CACZU,YAAY,CAACS,MAAM,CAACS,YAAY,CAACC,EAAE,CAAEV,MAAM,CAACW,aAAa,CAACD,EAAE,CAAEV,MAAM,CAACY,IAAI,CAAE,CAAC,CAAC,CAACX,IAAI,CAAC,SAAAC,IAAI,CAAI,CACvFF,MAAM,CAACK,UAAU,CAACH,IAAI,CAACI,IAAI,CAAC,CAC5BN,MAAM,CAACO,aAAa,CAACL,IAAI,CAACM,KAAK,CAAC,CACpC,CAAC,CAAC,CACN,CAAC,CAAE,CAACR,MAAM,CAACY,IAAI,CAAEZ,MAAM,CAACS,YAAY,CAAET,MAAM,CAACW,aAAa,CAAE,CAAC,CAE7D,mBACIhB,IAAA,CAACb,SAAS,EAAA+B,QAAA,cACNhB,KAAA,CAACd,GAAG,EAAC+B,SAAS,CAAC,MAAM,CAAAD,QAAA,eACjBlB,IAAA,CAACX,GAAG,EAAC+B,EAAE,CAAE,CAAE,CAAAF,QAAA,cACPlB,IAAA,CAACV,OAAO,GAAC,CAAC,CACT,CAAC,cACNY,KAAA,CAACb,GAAG,EAAC+B,EAAE,CAAE,CAAE,CAAAF,QAAA,eACPlB,IAAA,CAACT,QAAQ,GAAC,CAAC,cACXS,IAAA,CAACR,UAAU,GAAC,CAAC,cACbQ,IAAA,CAACF,KAAK,GAAC,CAAC,EACP,CAAC,EACL,CAAC,CACC,CAAC,CAEpB,CAAC,CAAC,CAEF,cAAe,CAAAK,IAAI"},"metadata":{},"sourceType":"module"}